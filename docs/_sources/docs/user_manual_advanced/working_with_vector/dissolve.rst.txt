.. index:: Vector Dissolve

.. _vector_dissolve:

**************************
融合 (dissolve)
**************************

融合 (dissolve) は、同じ属性値を持つ隣接するポリゴンを1つのポリゴンに結合するプロセスです。
分かりづらいですね。

例として、行政界データを使用します。
jpData の行政界データをダウンロードして、QGIS に読み込みます。
下の例は宮城県です。

.. figure:: img/dissolve_00.png
   :alt: 行政界
   :align: center

一見、何の問題もないように見えます。
ところが、女川町に注目してください。
女川町の島などは、たくさんのポリゴンに分かれています。
属性テーブルを見ても、それぞれが別々の地物として登録されています。
これらを 1 つのポリゴンにまとめるために、融合 (dissolve) を使います。

.. figure:: img/dissolve_01.png
   :alt: 女川町
   :align: center

実は、融合 (dissolve) は、いくつかの種類があります。
QGIS の最も単純な融合は、メニューバーのベクタ、空間演算ツールとたどっていきます。

.. figure:: img/dissolve_02.png
   :alt: メニューバー
   :align: center

融合ウィンドウで、行政コードを表す N03_007 を選択します。
こうすることで、同じ行政コードを持つポリゴンが 1 つのマルチポリゴンにまとめられます。

もし、ここで何も選択しなければ、すべてのポリゴンが 1 つのマルチポリゴンにまとめられます。


.. figure:: img/dissolve_03.png
   :alt: 融合するキーを設定
   :align: center

以下が融合の結果です。

.. figure:: img/dissolve_04.png
   :alt: 結果
   :align: center

属性テーブルを見ても、地物の数がだいぶ減ったことがわかります。


孔のあるポリゴン
^^^^^^^^^^^^^^^^^^^^^

融合 (dissolve) を実行すると、孔のあるポリゴンができることがあります。

この場合の孔は、隣接するポリゴンの接線が完全に一致していない時に発生します。

孔を削除するには、プロセシングツールから、孔 (holes) を検索して、孔を削除を実行します。





